"use strict";angular.module("neows",["ui.router","angularMoment","ui.bootstrap.datetimepicker","ui.dateTimeInput"]);
"use strict";!function(){angular.module("neows").controller("asteroidController",["$scope","$rootScope","$http","tabs","moment","asteroidService",function(t,e,a,n,r,s){var o=this,i=Date.now();o.activeDateTab=null,o.alerts=[],o.asteroid=[],o.asteroids={},o.initDateChange=!0,o.endDate=r(i).format("YYYY-MM-DD"),o.endSetDate=r(i).toDate(),o.startDate=r(o.endDate).subtract(5,"days").format("YYYY-MM-DD"),o.startSetDate=r(o.endDate).subtract(5,"days").toDate(),o.getAsteroids=function(t,e){s.getAsteroidList(t,e).then(function(t){return o.listAsteroids(t.data)})},o.sendChangeDate=function(t){o.initDateChange=t,o.startSetDate=r(o.startDate).toDate(),o.endSetDate=r(o.endDate).toDate(),e.$emit("changeDates",{startDate:o.startDate,endDate:o.endDate})},o.listAsteroids=function(t){o.asteroids=t,o.asteroid=Object.keys(o.asteroids.near_earth_objects).map(function(t){return{date:t,near_earth_object:o.asteroids.near_earth_objects[t]}})},o.getAlerts=function(){s.getAsteroidAlerts().then(function(t){return o.listAlerts(t.data)})},o.listAlerts=function(t){o.alerts=t,console.log(o.alerts)},o.clone=function(t,e){var a=e.name,n=e.close_approach_data,r=e.is_potentially_hazardous_asteroid,s=e.neo_reference_id;angular.copy(o.alerts.push({id:s,name:a,date:n[0].close_approach_date,velocity:n[0].relative_velocity.kilometers_per_hour,hazardous:r})),console.log(o.alerts)},o.endDateMax=function(){t.$broadcast("endSetDate")},o.endDateBeforeRender=function(t,e){if(o.startSetDate){r(o.startSetDate).subtract(1,t);var a=r(o.startSetDate).add(5,"day");e.filter(function(t){return t.localDateValue()>=a.valueOf()}).forEach(function(t){t.selectable=!1})}},o.updateRangeDate=function(t,e){o.startDate=r(t).format("YYYY-MM-DD"),o.endDate=r(e).format("YYYY-MM-DD"),o.sendChangeDate(),o.getAsteroids(o.startDate,o.endDate)},o.getAlerts(),o.getAsteroids(o.startDate,o.endDate),o.sendChangeDate(!0),t.$watch("vm.startSetDate",function(){o.initDateChange?o.initDateChange=!o.initDateChange:o.endSetDate=void 0})}])}();
"use strict";!function(){angular.module("neows").controller("fastestController",["$http","moment","asteroidService",function(t,e,a){var s=this,r=Date.now();s.asteroid=[],s.asteroids=[],s.endDate=e(r).format("YYYY-MM-DD"),s.startDate=e(s.endDate).subtract(6,"days").format("YYYY-MM-DD"),s.getAsteroidsFastest=function(t,e){a.getAsteroidList(t,e).then(function(t){return s.listAsteroidsFastest(t.data)})},s.listAsteroidsFastest=function(t){s.asteroids=t,s.asteroid=Object.keys(s.asteroids.near_earth_objects).sort(s.asteroid.velocity).map(function(t){return{date:t,near_earth_object:s.asteroids.near_earth_objects[t],velocity:s.asteroids.near_earth_objects[t].map(function(t){return{id:t.neo_reference_id,name:t.name,date:t.close_approach_data[0].close_approach_date,kmh:parseInt(t.close_approach_data[0].relative_velocity.kilometers_per_hour)}})}})},s.getAsteroidsFastest(s.startDate,s.endDate)}])}();
"use strict";!function(){angular.module("neows").controller("alertsController",["$http","asteroidService",function(t,e){var s=this;s.asteroid={},s.asteroids=[],s.getAsteroidsAlerts=function(){e.getAsteroidAlerts().then(function(t){return s.listAsteroidsAlerts(t.data)})},s.listAsteroidsAlerts=function(t){s.asteroids=t,console.log(s.asteroids)},s.create=function(){s.asteroids.splice(0,0,s.asteroid),s.asteroid=""},s.edit=function(t){s.asteroid=s.asteroids[t],s.editable=!0},s.update=function(){s.asteroid={},s.editable=!1},s.delete=function(t){s.asteroids.splice(t,1)},s.getAsteroidsAlerts()}])}();
"use strict";angular.module("neows").constant("consts",{appName:"NEOWS",version:"1.0.0",owner:"@raloliver",year:"2017",site:"http://raloliver.com.br",apiKEY:"2f6giEMBBC4SHtKn26HLm3fLH3IIhZD4Vjk2HMHl",apiURL:"https://api.nasa.gov/neo/rest/v1",userKey:"_neows_app_user"}).run(["$rootScope","consts",function(o,s){o.consts=s}]);
"use strict";angular.module("neows").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("asteroids",{url:"/asteroids",templateUrl:"asteroids/asteroids.html"}).state("fastest",{url:"/asteroids/fastest",templateUrl:"asteroids/fastest.html"}).state("alerts",{url:"/alerts",templateUrl:"alerts/alerts.html"}),e.otherwise("/asteroids")}]);
"use strict";!function(){angular.module("neows").factory("asteroidService",["$http","consts",function(t,e){return{getAsteroidList:function(n,r){return t.get(e.apiURL+"/feed?start_date="+n+"&end_date="+r+"&detailed=false&api_key="+e.apiKEY)},getAsteroidAlerts:function(){return t.get("alerts.json")}}}])}();
"use strict";!function(){angular.module("neows").factory("tabs",[function(){return{showTab:function(t,a){var e=a.tabList,o=void 0!==e&&e,b=a.tabCreate,i=void 0!==b&&b,n=a.tabUpdate,r=void 0!==n&&n,d=a.tabDelete,s=void 0!==d&&d;t.tabList=o,t.tabCreate=i,t.tabUpdate=r,t.tabDelete=s}}}])}();